<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CAI - Gestione Ufficio Tecnico - Home</title>
    <!-- Questo link a style.css è corretto perché style.css è ora nella stessa cartella (CAI) -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body> <!-- Nessuna classe admin-mode inizialmente -->

    <header class="app-header">
        <!-- MANTENUTO URL ESTERNO: Se hai spostato un logo locale qui, cambia src -->
        <img src="https://i.postimg.cc/2jsfDrZf/LOGO-CAI.png" alt="Logo Ufficio Tecnico" class="logo">
        <div class="header-controls">
            <!-- Pulsante Login Admin -->
            <button id="admin-toggle" class="admin-button" title="Modalità Admin">
                <i class="fas fa-user-shield"></i>
            </button>
            <!-- Pulsante Aggiungi Categoria (Nascosto inizialmente) -->
            <button id="add-category-trigger" class="admin-button hidden" title="Aggiungi Nuova Categoria">
                <i class="fas fa-plus-circle"></i>
            </button>
        </div>
    </header>

    <main id="content-area">
        <div class="welcome-message">
            <h2>Benvenuto!</h2>
            <p>Seleziona una voce dal menu per accedere alle diverse sezioni.</p>
        </div>

        <nav class="main-nav">
            <!-- Pulsanti sempre visibili - PERCORSI AGGIORNATI (senza ../) -->
            <a href="NOLEGGI/code.html" class="nav-button"> <i class="fas fa-key"></i> Noleggi </a>
            <a href="PREVENTIVI/index.html" class="nav-button"> <i class="fas fa-calculator"></i> Preventivazione </a>
            <button id="btn-listini" class="nav-button" aria-expanded="false" aria-controls="submenu-listini"> <i class="fas fa-list"></i> Listini </button>
            <a href="FGAS/index.html" class="nav-button"> <i class="fas fa-fire-extinguisher"></i> FGAS </a>
            <a href="SCHEDE_TECNICHE/index.html" class="nav-button"> <i class="fas fa-file-alt"></i> Schede Tecniche </a>
            <a href="SCONTISTICHE/index.html" class="nav-button"> <i class="fas fa-tags"></i> Scontistiche </a>
            <!-- Nuovi pulsanti verranno aggiunti qui dallo script -->
        </nav>

        <div id="submenu-listini" class="submenu">
             <!-- PERCORSI AGGIORNATI (senza ../) -->
             <a href="LISTINI/CLIMA/index.html" class="submenu-button"> <i class="fas fa-snowflake"></i> Clima </a>
             <a href="LISTINI/CALDAIE/index.html" class="submenu-button"> <i class="fas fa-fire-alt"></i> Caldaie </a>
             <a href="LISTINI/SCALDABAGNI/index.html" class="submenu-button"> <i class="fas fa-shower"></i> Scaldabagno </a>
             <a href="LISTINI/SANITARI/index.html" class="submenu-button"> <i class="fas fa-toilet"></i> Sanitari </a>
        </div>

        <!-- Popup Login Admin (Invariato) -->
        <div id="admin-login-popup" class="admin-popup hidden">
            <h3>Accesso Admin</h3>
            <label for="admin-password">Password:</label>
            <input type="password" id="admin-password" name="admin-password">
            <div class="admin-popup-buttons">
                <button id="admin-login-submit">Accedi</button>
                <button id="admin-login-cancel">Annulla</button>
            </div>
            <p id="admin-error-message" class="error-message hidden">Password errata!</p>
        </div>

        <!-- Pannello Aggiungi Categoria (Invariato - MA NOTA: Il placeholder per path è ora obsoleto) -->
        <div id="add-category-panel" class="admin-popup hidden">
             <span class="close-panel-btn" id="add-category-close">&times;</span>
            <h3>Aggiungi Nuova Categoria</h3>
            <div class="form-group"> <label for="category-name">Nome Categoria:</label> <input type="text" id="category-name" placeholder="Es: Manutenzioni"> </div>
            <!-- NOTA: Il percorso suggerito qui ora dovrebbe essere relativo alla root, es: MANUTENZIONI/index.html -->
            <div class="form-group"> <label for="category-path">Percorso File:</label> <input type="text" id="category-path" placeholder="Es: MANUTENZIONI/index.html"> </div>
             <div class="form-group"> <label for="category-icon">Classe Icona Font Awesome:</label> <input type="text" id="category-icon" placeholder="Es: fas fa-tools"> </div>
            <div class="admin-popup-buttons centered"> <button id="add-category-submit">Aggiungi Categoria</button> </div>
             <p id="add-category-feedback" class="feedback-message hidden"></p>
        </div>

        <!-- Overlay condiviso -->
        <div id="admin-overlay" class="overlay hidden"></div>

    </main>

    <!-- Questo link a script.js è corretto perché script.js è ora nella stessa cartella (CAI) -->
    <script src="script.js"></script>
</body>
</html>