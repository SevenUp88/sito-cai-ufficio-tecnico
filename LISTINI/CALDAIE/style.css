/* File: LISTINI/CALDAIE/style.css */

/* --- GLOBAL RESET & BASIC SETUP (aggiunto per sicurezza) --- */
*,
*::before,
*::after {
    box-sizing: border-box;
    margin: 0; /* Rimuovi margini di default del browser */
    padding: 0; /* Rimuovi padding di default del browser */
}

html {
    font-family: 'Roboto', sans-serif; /* Font di base per la pagina */
    line-height: 1.5; /* Interlinea di base */
    -webkit-font-smoothing: antialiased; /* Migliora rendering font su alcuni browser */
    -moz-osx-font-smoothing: grayscale;
}

body {
    background-color: var(--background-color, #f8f9fa); /* Sfondo fallback */
    color: var(--dark-color, #343a40); /* Testo fallback */
}
/* --- FINE GLOBAL RESET --- */


/* Assicurati che queste variabili siano definite, o nel tuo CSS globale
   ../../style.css o decommentando e adattando questo blocco :root */
:root {
    --primary-color: #0056a8;        /* Blu primario */
    --secondary-color: #6c757d;      /* Grigio secondario */
    --light-color: #f8f9fa;          /* Colore chiaro */
    --dark-color: #343a40;           /* Colore scuro */
    --background-color: #ffffff;     /* Sfondo generale */
    --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); /* Ombra card */
    --border-radius: 8px;            /* Raggio bordo card */
    --danger-color: #dc3545;         /* Rosso per avvisi/esaurimento */
    --warning-color: #ffc107;       /* Giallo per badge "economico" */
    --header-height: 65px;           /* Altezza del tuo header principale, da adattare se diversa */
    /* --sticky-offset: calc(var(--header-height) + 10px); // Se definito globalmente */
}

.listini-page-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px 20px 20px;
    background-color: var(--background-color);
}

.page-controls {
    text-align: center;
    border-bottom: 1px solid #eee;
    position: sticky;
    top: var(--header-height);
    background-color: var(--background-color);
    z-index: 990;
    padding: 15px 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    margin-bottom: 25px;
}

.page-controls h1 {
    color: var(--primary-color);
    margin: 0 0 10px 0;
    font-weight: 700;
    font-size: 2em;
}
.page-controls > p {
    margin-bottom: 15px;
    font-size: 0.95em;
    color: var(--secondary-color);
}

.filters-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
    align-items: center;
}
.filters-container > span {
    margin-right: 10px;
    font-weight: 500;
    color: var(--secondary-color);
    align-self: center;
    margin-bottom: 5px;
}

.filter-button-group {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    align-items: center;
}

.filter-btn {
    background-color: #e9ecef;
    border: 1px solid #ced4da;
    color: var(--dark-color);
    padding: 6px 12px;
    border-radius: 16px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 0.8em;
    white-space: nowrap;
    line-height: 1.5;
}
.filter-btn:hover {
    background-color: #d1d5db;
}
.filter-btn.active {
    background-color: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
    font-weight: 500;
}
#economico-filter-btn {
    background-color: var(--warning-color);
    border-color: #e6a007;
    color: #333;
}
#economico-filter-btn.active {
    background-color: #e6a007;
    border-color: #c79100;
    color: white;
}

.filters-container .filter-group {
    display: none;
}

.filters-container .search-group {
    display: flex;
    align-items: center;
    margin-left: 10px;
}
.filters-container .search-group input[type="text"] {
    border-radius: 16px;
    min-width: 180px;
    font-size: 0.8em;
    padding: 6px 12px;
    border: 1px solid #ced4da;
}
.filters-container .search-group label { display: none; }

#reset-filters-btn {
    padding: 6px 12px;
    border-radius: 16px;
    font-size: 0.8em;
    background-color: var(--secondary-color);
    color:white;
    border: none;
    line-height: 1.5;
}
#reset-filters-btn:hover {
    background-color: #5a6268;
}

main {
    padding-top: 10px;
}

/* --- PRODUCT GRID CON MEDIA QUERIES PER COLONNE --- */
.product-grid {
    display: grid;
    gap: 20px;
    margin-bottom: 30px;
    /* Default: mobile e schermi piccoli -> 1 colonna o fluido */
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
}

/* Tablet e schermi medi -> 2 colonne */
@media (min-width: 700px) { /* Adatta questo breakpoint */
    .product-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

/* Desktop / Schermi larghi -> 3 colonne */
@media (min-width: 1050px) { /* Adatta questo breakpoint (poco meno di 1200px - gap*2 - padding*2) */
    .product-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

@media (min-width: 1400px) { /* Esempio: circa (4 * 300px card) + (3 * 20px gap) + (40px padding) = 1300px, quindi mettiamo 1400px per il breakpoint */
    .listini-page-container {
        max-width: 1600px; /* Permetti al container di espandersi */
    }
    .product-grid {
        grid-template-columns: repeat(4, 1fr); /* Prova con 4 colonne fisse */
        /* Oppure, per renderlo di nuovo completamente dinamico SOLO per questi schermi: */
        /* grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); */
    }
}

/* Opzionale: per schermi ancora più larghi */
@media (min-width: 1700px) { /* Esempio per 5 colonne */
    .listini-page-container {
        max-width: 1900px;
    }
    .product-grid {
        grid-template-columns: repeat(5, 1fr);
        /* Oppure: */
        /* grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); */
    }
}
/* --- FINE PRODUCT GRID --- */


/* --- BOILER CARD STYLES --- */
.boiler-card {
    background-color: var(--background-color);
    border: 1px solid #e0e0e0;
    border-radius: var(--border-radius);
    padding: 15px;
    box-shadow: var(--card-shadow);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    display: flex;
    flex-direction: column;
    position: relative; /* Fondamentale per il posizionamento assoluto dei figli */
    cursor: pointer;
    height: 100%; /* Le card cercheranno di avere la stessa altezza della riga della griglia */
}
.boiler-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
}

/* MODIFICATO: Posizionamento badge in basso a destra */
.card-top-right-elements {
    position: absolute;
    bottom: 27px;  /* Valore per allineare verticalmente con il prezzo, da aggiustare se necessario */
    right: 15px;   /* Allineato con il padding destro della card (15px) */
    display: flex;
    align-items: center;
    gap: 8px;
    z-index: 2;
}

/* MODIFICATO: Dimensioni badge ridotte */
.economico-badge, .storage-badge, .wifi-icon-display {
    display: inline-flex;
    align-items: center;
    font-size: 0.75em;  /* Dimensione testo badge ridotta */
    padding: 5px 8px;   /* Padding badge ridotto */
    border-radius: 6px; /* Raggio bordo badge adattato */
    font-weight: bold;
    text-transform: uppercase;
    white-space: nowrap;
}
.economico-badge {
    background-color: var(--warning-color);
    color: #333;
}
.storage-badge {
    background-color: var(--secondary-color);
    color: white;
}
.storage-badge i {
    margin-right: 3px; /* Ridotto leggermente per badge più piccoli */
    /* font-size: 1.1em; /* Opzionale per icona leggermente più grande del testo badge */
}
.wifi-icon-display {
    background-color: transparent;
    color: var(--primary-color);
    padding: 2px; /* Il padding specifico per wifi-icon viene mantenuto ma le altre proprietà sono ereditate */
    font-size: 0.9em; /* Mantenuto specifico per l'icona wifi */
}
.wifi-icon-display i {
    font-size: 1.1em; /* Adatta l'icona WiFi */
}

.boiler-card-header {
    display: flex;
    align-items: center;
    margin-bottom: 12px;
    gap: 10px;
    min-height: 40px;
}
.boiler-logo {
    max-height: 40px;
    max-width: 110px;
    object-fit: contain;
    flex-shrink: 0;
}
.boiler-title-brand {
    flex-grow: 1;
    /* Aggiungere padding-right se i badge erano qui, ora non più necessario
       se i badge sono assoluti in basso */
    /* padding-right: 80px;  ESEMPIO se i badge fossero ancora qui e sovrapponessero */
}
.boiler-card h3.model {
    margin: 0 0 1px 0;
    font-size: 1.05em;
    color: var(--dark-color);
    font-weight: 700;
    line-height: 1.25;
}
.boiler-card .brand-text {
    font-size: 0.8em;
    color: var(--secondary-color);
    text-transform: uppercase;
    display: block;
}

.boiler-card-body-flex {
    display: flex;
    flex-direction: row;
    gap: 15px;
    flex-grow: 1;
    margin-bottom: 12px;
}

.boiler-card-info-column {
    flex: 1;
    display: flex;
    flex-direction: column;
}

.boiler-card-image-column {
    flex: 0 0 40%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.boiler-card .image-container {
    width: 100%;
}
.boiler-card .image-container img {
    display: block;
    width: 100%;
    max-height: 200px;
    object-fit: contain;
    border-radius: 3px;
}

.boiler-card .boiler-info {
    flex-grow: 1;
}
.boiler-card .boiler-info p {
    display: flex;
    align-items: flex-start;
    margin: 5px 0;
    font-size: 0.85em;
    color: #495057;
    line-height: 1.45;
}
.boiler-card .boiler-info p strong {
    color: var(--dark-color);
    font-weight: 500;
    margin-right: 8px;
    flex-shrink: 0;
    width: 100px;
}
.boiler-card .availability.in-esaurimento {
    color: var(--danger-color);
    font-weight: bold;
}
.boiler-card .product-datasheet a,
.boiler-card .product-manual a {
    color: var(--primary-color);
    text-decoration: none;
    font-size: 0.85em;
    font-weight: 500;
    display: inline-flex;
    align-items: center;
}
.boiler-card .product-datasheet a:hover,
.boiler-card .product-manual a:hover { text-decoration: underline; }

.boiler-card .product-datasheet i,
.boiler-card .product-manual i { margin-right: 4px; }

.boiler-card .boiler-info p.accumulo-info {
    /* Stili specifici se necessario */
}
.storage-icon-inline {
    margin-left: 5px;
    color: var(--secondary-color);
}

.boiler-card-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: auto;
    padding-top: 12px;
    border-top: 1px solid #eee;
    position: relative; /* Aggiunto per un potenziale controllo fine dei badge se necessario, ma non dovrebbe servire con il metodo attuale */
}
.boiler-card .price-section {
    margin:0; padding:0; border:0;
}
.boiler-card .price-discounted,
.boiler-card .price-discounted.no-discount {
    font-size: 1.6em;
    font-weight: 700;
    color: var(--primary-color);
}
.boiler-card .price-list {
    font-size: 0.75em;
    color: var(--secondary-color);
    text-decoration: line-through;
    margin-right: 5px;
}

/* POPUP STYLES - (mantenuti come da originale, assumendo siano corretti) */
.popup-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0s linear 0.3s;
}
.popup-overlay.visible {
    opacity: 1;
    visibility: visible;
    transition: opacity 0.3s ease, visibility 0s linear 0s;
}
.popup-content {
    background-color: #fff;
    padding: 25px 30px;
    border-radius: var(--border-radius, 8px);
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
    width: 90%;
    max-width: 600px;
    max-height: 85vh;
    overflow-y: auto;
    position: relative;
    transform: scale(0.9);
    transition: transform 0.3s ease;
}
.popup-overlay.visible .popup-content {
    transform: scale(1);
}
.popup-content h2#popup-boiler-title {
    margin-top: 0;
    margin-bottom: 20px;
    color: var(--primary-color, #0056a8);
    font-size: 1.5em;
    border-bottom: 1px solid #eee;
    padding-bottom: 10px;
}
.close-popup-btn {
    position: absolute;
    top: 15px;
    right: 15px;
    background: none;
    border: none;
    font-size: 1.8em;
    color: var(--secondary-color, #6c757d);
    cursor: pointer;
    line-height: 1;
}
.close-popup-btn:hover {
    color: var(--dark-color, #343a40);
}
#popup-boiler-content-area p {
    margin-bottom: 12px;
    font-size: 0.95em;
    line-height: 1.6;
    color: var(--dark-color, #555);
}
#popup-boiler-content-area p:last-child {
    margin-bottom: 0;
}
#popup-boiler-content-area strong {
    font-weight: 600;
    color: var(--dark-color, #343a40);
    margin-right: 5px;
}
#popup-boiler-content-area .popup-value {
    /* Stile specifico per i valori se necessario */
}
#popup-boiler-content-area .unknown-value {
    color: var(--secondary-color, #6c757d);
    font-style: italic;
}
/* Fine Popup Styles */

/* General loading/no-results */
.loading-indicator, #loading-indicator,
#no-results-message {
    grid-column: 1 / -1;
    text-align: center;
    padding: 30px 20px;
    color: var(--secondary-color);
    font-size: 1.05em;
}

/* Admin section */
#admin-section-caldaie {
    border-top: 2px solid var(--warning-color);
}

/* Print Styles - (mantenuti come da originale, assumendo siano corretti) */
@media print {
    body {
        font-size: 10pt;
        background-color: #fff;
        color: #000;
    }
    .listini-page-container {
        max-width: none;
        padding: 0;
        margin: 0;
    }
    .page-controls, .filters-container, #reset-filters-btn, .boiler-card-footer .price-list, .boiler-card-footer .price-section > *:not(.price-discounted), .economico-badge, .storage-badge, .wifi-icon-display, .boiler-card .product-manual a {
        display: none !important; /* Nascondi elementi non essenziali per la stampa */
    }
    .product-grid {
        display: block; /* Rimuovi la griglia per la stampa, ogni card va su una nuova riga o come blocco */
    }
    .boiler-card {
        box-shadow: none;
        border: 1px solid #ccc;
        page-break-inside: avoid; /* Cerca di non dividere una card su due pagine */
        margin-bottom: 15px;
        padding: 10px;
    }
    .boiler-card-header {
        margin-bottom: 8px;
    }
    .boiler-logo { max-height: 30px; }
    .boiler-card h3.model { font-size: 1.1em; }
    .boiler-card .boiler-info p { font-size: 0.8em; margin: 3px 0; }
    .boiler-card .boiler-info p strong { width: auto; margin-right: 5px; } /* Adatta larghezza label per stampa */
    .boiler-card-body-flex { margin-bottom: 8px; }
    .boiler-card .image-container img { max-height: 120px; }
    .boiler-card-footer {
        border-top: 1px solid #ccc;
        padding-top: 8px;
        justify-content: flex-start; /* Allinea il prezzo a sinistra */
    }
    .boiler-card .price-discounted,
    .boiler-card .price-discounted.no-discount {
        font-size: 1.3em;
        color: #000; /* Prezzo in nero per la stampa */
    }
    .boiler-card .product-datasheet a::after {
        content: " (Scheda Tecnica)"; /* Aggiungi testo per link in stampa */
    }
     h1 { font-size: 1.5em; }
}
/* --- STILI SPECIFICI PER INGRANDIRE IMMAGINI ARTICOLI BAXI --- */

/* 1. (OPZIONALE MA CONSIGLIATO) Dai più spazio alla colonna dell'immagine nelle card BAXI.
      Sperimenta con il valore di flex-basis.
      Se il default per .boiler-card-image-column è 'flex: 0 0 40%;', prova ad aumentarlo. */
.boiler-card.brand-baxi .boiler-card-image-column {
    flex-grow: 0;    /* Non deve crescere oltre il suo basis */
    flex-shrink: 0;  /* Non deve restringersi sotto il suo basis */
    flex-basis: 45%; /* ESEMPIO: aumenta dal 40% al 45%. Prova valori come 45%, 50%,
                        o anche un valore fisso come '250px' se preferisci, ma
                        una percentuale si adatta meglio alla larghezza variabile della card.
                        Regola questo valore finché non ottieni l'effetto desiderato
                        senza rompere troppo il layout della colonna info. */
    /* min-width: 0; */ /* Dovrebbe già averlo per permettere il restringimento generale,
                           ma non fa male ripeterlo o assicurarsi che ci sia. */
}

/* 2. (OPZIONALE) Se hai dato più spazio alla colonna immagine,
      assicurati che la colonna info si adatti.
      Con flex:1, dovrebbe prendere lo spazio rimanente. */
.boiler-card.brand-baxi .boiler-card-info-column {
    flex: 1;      /* Permette a questa colonna di prendere lo spazio non usato dalla colonna immagine */
    min-width: 0; /* Essenziale per permettere al testo di andare a capo
                     e alla colonna di restringersi se necessario */
}

/* 3. (FONDAMENTALE) Definisci la max-height per le immagini degli articoli BAXI. */
.boiler-card.brand-baxi .image-container img {
    max-height: 250px;  /* ESEMPIO: Il tuo target di altezza. Era 200px, ora prova 250px.
                           Puoi aumentarlo a 280px, 300px, ecc. finché ti piace,
                           compatibilmente con lo spazio che la colonna immagine
                           (vedi punto 1) può effettivamente offrire. */

    /* Le seguenti proprietà dovrebbero essere ereditate dalla regola generale
       per .boiler-card .image-container img, ma per chiarezza e
       per assicurarsi che non vengano sovrascritte, puoi ripeterle: */
    display: block;     /* Già presente nella regola generale */
    width: 100%;        /* Già presente nella regola generale, fa sì che l'immagine riempia la larghezza del suo contenitore */
    max-width: 100%;    /* Aggiunta di sicurezza per non superare il contenitore in larghezza */
    object-fit: contain;/* Già presente, mantiene le proporzioni senza tagliare */
    border-radius: 3px; /* Già presente */
}

/* 4. (OPZIONALE, per debug) Se l'immagine non si ingrandisce, puoi
      temporaneamente dare un bordo al contenitore dell'immagine
      per vedere quanto spazio ha effettivamente. */
/*
.boiler-card.brand-baxi .image-container {
    border: 1px solid red;
}
*/

/* --- FINE STILI IMMAGINI BAXI --- */
